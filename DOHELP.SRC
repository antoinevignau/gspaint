;======================================================;;                                                      ;;              D O H E L P                             ;;                                                      ;;======================================================;DoHelp         Start                    Using AllEqu               Using Data               Jsr  SupSelection               Jsr  CloseText               Stz  OpenBuf               Stz  OpenBuf+2               _Open OpenParms               Jcs  ExitHelp               _HideCursor               lda  OpenParms               Sta  ReadParms               Sta  SetMarkParms               Lda  #34+16*32               Sta  Mark               _SetMark SetMarkParms               MoveLong pBuffer,ReadBuffer               Lda  #<$E12000               Sta  PicPtr               Lda  #^$E12000               Sta  PicPtr+2               Lda  #Pagex*200/2               Sta  PicSize               Lda  #Pagex/2               Sta  RequestRd               _GetMark GetMarkParms               Jcs  ExitHelpLoopRd         Anop               _SetMark SetMarkParms               Jcs  ExitHelp               _Read ReadParms               Jcs  ExitHelp               Pha               PushLong pBuffer               Pea  Pagex/2               PushPtr PicPtr               PushPtr PicSize               _UnPackBytes               Pla               Clc               Adc  Mark               Sta  Mark               Lda  PicSize               Bne  LoopRd               _Close CloseParms               _ShowCursorWait           Anop               Pha               Pea  $FFFF               PushPtr EventRecord               _GetNextEvent               Pla               Lda  EvtWhat               Cmp  #MouseDown               Bne  Wait               Bra  ExitHelp2ExitHelp       Anop               _Close CloseParmsExitHelp2      Anop               _InitPalette               _Refresh               _DrawMenuBar               Jsr  ForceUpdate               RtsHelpName       Str  '1/helpFile'OpenParms      Anop               dc   i'0'                Ref Nums               dc   I4'HelpName'OpenBuf        dc   I4'0'ReadParms      Anop               dc   i'0'                RefNumsReadBuffer     dc   I4'0'RequestRd      dc   I4'200*160'               dc   I4'0'CloseParms     dc   i'0'GetMarkParms   AnopSetMarkParms   Anop               dc   i'0'                RefNumsMark           dc   I4'0'PicSize        ds   4PicPtr         ds   4               End